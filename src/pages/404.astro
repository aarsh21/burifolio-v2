---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import Link from '@/components/Link.astro'
import PageHead from '@/components/PageHead.astro'
import { buttonVariants } from '@/components/ui/button'
import Layout from '@/layouts/Layout.astro'
import { cn } from '@/lib/utils'
---

<Layout class="max-w-3xl">
  <PageHead slot="head" title="404" />
  <Breadcrumbs items={[{ label: '???', icon: 'lucide:circle-help' }]} />

  <section class="flex flex-col items-center justify-center gap-y-8 py-12">
    <!-- Brutalist 404 display -->
    <div class="relative">
      <!-- Corner accents -->
      <div
        class="absolute -top-2 -left-2 h-4 w-4 border-t-2 border-l-2 border-accent"
      >
      </div>
      <div
        class="absolute -top-2 -right-2 h-4 w-4 border-t-2 border-r-2 border-accent"
      >
      </div>
      <div
        class="absolute -bottom-2 -left-2 h-4 w-4 border-b-2 border-l-2 border-accent"
      >
      </div>
      <div
        class="absolute -bottom-2 -right-2 h-4 w-4 border-b-2 border-r-2 border-accent"
      >
      </div>

      <div
        class="border-2 border-border bg-card px-12 py-8 shadow-brutal text-center"
      >
        <div class="glitch text-8xl font-black tracking-tighter" data-text="404">
          404
        </div>
      </div>
    </div>

    <!-- Error message -->
    <div class="max-w-md text-center space-y-4">
      <h1 class="text-2xl font-bold uppercase tracking-wide">
        // Page Not Found
      </h1>
      <p class="text-muted-foreground font-mono text-sm">
        <span class="text-accent">&gt;</span> ERROR: The requested resource does
        not exist on this server.
      </p>
      <div
        class="border-2 border-dashed border-border p-4 bg-muted/30 font-mono text-xs text-muted-foreground"
      >
        <span class="text-accent">$</span> cat /page<br />
        <span class="text-destructive">cat: /page: No such file or directory</span
        >
      </div>
    </div>

    <!-- Action button -->
    <Link
      href="/"
      class={cn(
        buttonVariants({ variant: 'outline' }),
        'border-2 shadow-brutal brutal-hover font-bold uppercase tracking-wide group'
      )}
    >
      <span class="transition-transform group-hover:-translate-x-1">&larr;</span>
      Return Home
    </Link>

    <!-- Decorative element -->
    <div class="flex items-center gap-4 text-muted-foreground/50 font-mono text-xs">
      <span class="h-px w-12 bg-border"></span>
      <span>END_OF_ERROR</span>
      <span class="h-px w-12 bg-border"></span>
    </div>
  </section>
</Layout>

<style>
  .glitch {
    position: relative;
  }

  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .glitch::before {
    animation: glitch-1 0.3s infinite linear alternate-reverse;
    color: hsl(var(--accent));
    clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
  }

  .glitch::after {
    animation: glitch-2 0.3s infinite linear alternate-reverse;
    color: hsl(var(--destructive));
    clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
  }

  @keyframes glitch-1 {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(-3px, 3px);
    }
    40% {
      transform: translate(-3px, -3px);
    }
    60% {
      transform: translate(3px, 3px);
    }
    80% {
      transform: translate(3px, -3px);
    }
    100% {
      transform: translate(0);
    }
  }

  @keyframes glitch-2 {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(3px, -3px);
    }
    40% {
      transform: translate(3px, 3px);
    }
    60% {
      transform: translate(-3px, -3px);
    }
    80% {
      transform: translate(-3px, 3px);
    }
    100% {
      transform: translate(0);
    }
  }
</style>
