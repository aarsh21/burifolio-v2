---
import Breadcrumbs from '@/components/Breadcrumbs.astro'
import PageHead from '@/components/PageHead.astro'
import Link from '@/components/Link.astro'
import Layout from '@/layouts/Layout.astro'
import { Work as workExperience } from '@/lib/profiledetail'

interface WorkExperience {
  link: string;
  position: string;
  company: string;
  isCurrent: boolean;
  start_date: string;
  end_date: string;
  responsibilities: string[];
}

const workList: WorkExperience[] = workExperience;
---

<Layout class="max-w-3xl">
  <PageHead slot="head" title="Work Experience" />
  <Breadcrumbs items={[{ label: 'Work', icon: 'lucide:briefcase' }]} />
  <section class="flex flex-col gap-y-6">
    <div class="font-medium text-lg">My Professional Journey</div>
    <div class="flex flex-col gap-6">
      {workList.map((job: WorkExperience) => (
        <div class="rounded-lg border p-6 relative">
          <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-4">
            <div>
              <h3 class="font-semibold text-lg">
                <Link href={job.link} external underline>
                  {job.position}
                </Link>
              </h3>
              <p class="text-muted-foreground">{job.company}</p>
            </div>
            <div class="flex flex-col sm:text-right text-sm">
              <span class="text-muted-foreground">
                {job.start_date} - {job.end_date}
              </span>
            </div>
          </div>

          <ul class="list-disc list-inside space-y-2 text-sm text-muted-foreground">
            {job.responsibilities.map((responsibility: string) => (
              <li>{responsibility}</li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </section>
</Layout>
